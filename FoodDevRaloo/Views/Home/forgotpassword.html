<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- style -->
    <link rel="stylesheet" href="style.css">
    <!-- font and icons-->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <title>Food Delivery</title>
</head>

<body>
   
<!--siderbar-->
<div class="sidebar">
    <!--logo-->
    <h1 class="logo">FoodTime</h1>
    <div class="sidebar-menu">
        <a href="#"><ion-icon name="storefront-outline"></ion-icon>Home</a>
        <a href="#"><ion-icon name="restaurant-outline"></ion-icon>Restaurants</a>
        <a href="#"><ion-icon name="person-outline"></ion-icon>My profile</a>
        <a href="#"><ion-icon name="receipt-outline"></ion-icon>Orders</a>
        <a href="#"><ion-icon name="chatbubbles-outline"></ion-icon>Contact Us</a>
        <a href="#"><ion-icon name="settings-outline"></ion-icon>Settings</a>
    </div>
   
</div>

    <!--main-->
    <div class="main">
        <!--main navbar-->
        <div style="display:flex; justify-content: right;">
            <!-- menu when appear on mobile version-->
            <ion-icon class="menu-toggle" name="menu-outline"></ion-icon>
            
            <!-- profile icon on left side of navbar-->
            <div class="profile"></div>
            <a class="cart" href="#" onclick="toggleCartPopup()">
                <ion-icon name="cart-outline"></ion-icon>
                <span class="cart-count" id="cart-count">0</span>
            </a>
            
        </div>

           <!--main-highlight-->
           <div class="main-highlight">
            <!--title section and arrow-->
            <div class="main-header">
                <h2 class="main-title">Recommendations</h2>
                <div class="main-arrow">
                    <ion-icon class="back" name="chevron-back-circle-outline"></ion-icon>
                    <ion-icon class="next" name="chevron-forward-circle-outline"></ion-icon>
                </div>
            </div>
            <!--highlight menu-->
            <div class="highlight-wrapper">
                <div class="highlight-card">
                    <img class="highlight-img" src="images/pancakes.jpg">
                    <div class="highlight-desc">
                        <h4>Clatite cu Sirop</h4>
                        <span> 25 RON</span>
                    </div>
                </div>

                <div class="highlight-card">
                    <img class="highlight-img" src="images/coffee.jpg">
                    <div class="highlight-desc">
                        <h4>Cappuccino</h4>
                        <span> 10 RON</span>
                    </div>
                </div>

                <div class="highlight-card">
                    <img class="highlight-img" src="images/pizza.jpg">
                    <div class="highlight-desc">
                        <h4>Pizza</h4>
                        <span> 35 RON</span>
                    </div>
                </div>

                <div class="highlight-card">
                    <img class="highlight-img" src="images/salad.jpg">
                    <div class="highlight-desc">
                        <h4>Fresh Salad</h4>
                        <span> 30 RON</span>
                    </div>
                </div>
            </div>
        </div>
    
<!--shopping cart section-->


        <!--main-highlight-->
        
        <!--main menus/orders-->
       
        <!-- <hr class="divider"> -->
        <!--list of food menus-->
        <!--login form -->
        <div class="login">
            <h1>Forgot Password?</h1>

            <div class="form-message-container">
                <span>Write your email and we'll send you a reset link.</span>
            </div>
            <form id="forgot-password-form">
                <input type="email" id="email-input" placeholder="Email address" required>

                <button type="submit" class="login-btn" id="login-btn">Send</button>
            </form>
            <div id="response-message"></div>
        </div>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
        document.getElementById('forgot-password-form').addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevent the default form submission

            const emailInput = document.getElementById('email-input').value;
            const responseMessage = document.getElementById('response-message');

            try {
                const response = await fetch('https://localhost:7077/api/Utilizatori/forgot-password', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email: emailInput })
                });

                const data = await response.json();
                console.log(data);
                if (response.ok) {
                    responseMessage.textContent = data.message;
                    responseMessage.style.color = '#fecb40';
                    document.getElementById('email-input').value='';
                } else {
                    responseMessage.textContent = data.error || 'An error occurred.';
                    responseMessage.style.color = 'red';
                }
            } catch (error) {
                console.log(error);
                responseMessage.textContent = 'An error occurred.';
                responseMessage.style.color = 'red';
            }
        });
    </script>
</body>
</html>